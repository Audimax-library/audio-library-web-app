{% extends 'base.html' %}
{% block title %}Update Title | Audimax{% endblock %}
{% block content %}

<div class="container mx-auto my-8">
  <h1 class="text-4xl text-center font-bold">Update Title Details</h1>

  <form action="" method="POST" enctype=multipart/form-data>

    <div class="form-field mb-6">
      <label for="title-field" class="text-xl">Title:</label>
      <div class="inputwrap">
        <input id="title-field" type="text" name="new-title" class="focus:outline-none focus:border focus:border-themeMain" value="{{context.book_details.title}}" required>
        <div class="search-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);"><path d="M6 22h15v-2H6.012C5.55 19.988 5 19.805 5 19s.55-.988 1.012-1H21V4c0-1.103-.897-2-2-2H6c-1.206 0-3 .799-3 3v14c0 2.201 1.794 3 3 3zM5 8V5c0-.805.55-.988 1-1h13v12H5V8z"></path><path d="M8 6h9v2H8z"></path></svg>
        </div>
      </div>
    </div>
    <div class="form-field mb-6">
      <label for="title-field-alt" class="text-xl">Alternative Titles:(Comma Separated)</label>
      <div class="inputwrap">
        <input id="title-field-alt" type="text" name="new-alt-title" class="focus:outline-none focus:border focus:border-themeMain" value="{{context.book_details.alt_title}}">
        <div class="search-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgba(255, 255, 255, 1);"><path d="M6 22h15v-2H6.012C5.55 19.988 5 19.805 5 19s.55-.988 1.012-1H21V4c0-1.103-.897-2-2-2H6c-1.206 0-3 .799-3 3v14c0 2.201 1.794 3 3 3zM5 8V5c0-.805.55-.988 1-1h13v12H5V8z"></path><path d="M8 6h9v2H8z"></path></svg>
        </div>
      </div>
    </div>
    <div class="form-field mb-6">
      <label class="block mb-2 text-xl text-white" for="default_size">Title Cover:</label>
      <input class="block w-full text-md focus:border rounded cursor-pointer text-gray-400 focus:outline-none focus:border-themeMain placeholder-gray-400 p-2" style="background-color: #2C2C2C;" id="large_size" type="file" name="new-title-cover">
    </div>
    <div class="form-field mb-6">
      <label class="block mb-2 text-xl text-white" for="">Current Title Cover:</label>
      <img src="{{ url_for('webapp.static', filename='uploads/'+context.book_details.cover_img) }}" class="rounded w-40" alt="">
      <span class="text-sm text-slate-500 italic">*Adding your new image will replace this image.</span>
    </div>
    <div class="form-field mb-6">
      <label for="" class="text-xl">Synopsis: </label>
      <div class="">
        <textarea name="new-title-synopsis" id="" cols="20" rows="10" style="background-color:#2c2c2c;" class="focus:outline-none focus:border focus:border-themeMain w-full rounded p-2" required>{{context.book_details.synopsis}}</textarea>
      </div>
    </div>
    {% for item in context.book_details.genres %}
    {{item}}1
    {% endfor %}
    <div class="form-field mb-6">
      <label for="" class="text-xl">Book Genre:</label>
      <div class="inputwrap">
        <select id="" name="new-title-genre" size="10" class="text-sm rounded block w-full p-2.5 placeholder-gray-400 focus:outline-none focus:border focus:border-themeMain" style="background-color:#2c2c2c;" multiple required>
          {% for genre in context.genres %}
            {% if genre in context.book_details.genres %}
            <option value="{{genre.id}}" selected>{{genre.title}}</option>
            {% else %}
            <option value="{{genre.id}}">{{genre.title}}</option>
            {% endif %}
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-field mb-6">
      <label for="" class="text-xl">Book Status:(Audiobook Status)</label>
      <div class="inputwrap">
        <select id="" name="new-title-status" class="text-sm rounded block w-full p-2.5 placeholder-gray-400 focus:outline-none focus:border focus:border-themeMain" style="background-color:#2c2c2c;" required>
          <option value="">Choose status</option>
          {% for item in context.status_types %}
            {% if context.book_details.status == item %}
          <option value="{{item}}" selected>{{item}}</option>
            {% else %}
          <option value="{{item}}">{{item}}</option>
            {% endif %}
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-field mb-6">
      <label for="" class="text-xl">Book Language:</label>
      <div class="inputwrap">
        <select id="" name="new-title-lang" class="text-sm rounded block w-full p-2.5 placeholder-gray-400 focus:outline-none focus:border focus:border-themeMain" style="background-color:#2c2c2c;" required>
          <option selected value="">Choose Language</option>
          {% for item in context.lang_types %}
            {% if context.book_details.language == item %}
          <option value="{{item}}" selected>{{item}}</option>
            {% else %}
          <option value="{{item}}">{{item}}</option>
            {% endif %}
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-field mb-6">
      <label for="title-field-author" class="text-xl">Book Author:</label>
      <div class="inputwrap">
        <input id="title-field-author" type="text" name="new-title-author" class="focus:outline-none focus:border focus:border-themeMain" value="{{context.book_details.author_name}}" required>
        <div class="search-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);"><path d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"></path></svg>
        </div>
      </div>
    </div>
    <button type="submit" class="rounded relative flex items-center px-3 justify-center text-black bg-themeDarkLight hover:bg-themeLight px-6 transition-colors" style="min-height: 48px; min-width: 0px;">
      <span class="flex items-center justify-center font-medium select-none" style="pointer-events: none;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon mr-4"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m14-7-5-5-5 5m5-5v12"></path></svg> 
        Update Title
      </span>
    </button>

  </form>
</div>


{% endblock %}
{% block scripts %}
<script type="module">
  var swiper = new Swiper('.swiper', {
    slidesPerView: 'auto',
    mousewheel: true,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    autoplay: {
      delay: 2500,
      disableOnInteraction: false,
    },
  });
</script>
{% endblock %}