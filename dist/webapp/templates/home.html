{% extends 'base.html' %}
{% block title %}Welcome | Audimax{% endblock %}
{% block content %}
<div class="container mb-4 pt-6 px-6 mx-auto">
  <div role="alert" class="flex items-center rounded justify-center py-4 px-6 mt-2 mb-6 bg-themeMain text-black">
    <span class="text-center"><span class="underline">Audimax</span> is still in early access. So, bugs are to be expected. ðŸ˜‰</span>
  </div>

  <section>
    <div class="flex items-center justify-center mb-4">
      <a href="#" class="link">
        <h2 class="font-header text-2xl font-semibold">Latest Books</h2>
      </a> 
      <a href="#" class="ml-auto link" aria-label="View latest books list">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"class="feather feather-arrow-right text-icon-black text-false icon"><path d="M5 12h14m-7-7 7 7-7 7"></path></svg>
      </a>
    </div>

    <div class="swiper">
      <div class="swiper-wrapper">
        {% for item in context.recent_books%}
        <a href="{{url_for('webapp.book_page', id=item.id)}}">
          <div class="swiper-slide">
            <div class="grid grid-flow-col grid-cols-4 rounded bg-BGColorLight latest-card">
              <div>
                <img src="{{ url_for('webapp.static', filename='uploads/'+item.cover_img) }}" class=" rounded-l w-full h-full object-cover" alt="" loading="lazy">
              </div>
              <div class="col-start-2 col-span-3 p-4 text-left">
                <h1 class="font-base font-bold truncate">{{item.title}}</h1>
                <p class="text-base text-clip">{{item.synopsis[:174]}}...</p>
              </div>
            </div>
          </div>
        </a>
        {% endfor %}

      </div>
      <!-- Add Pagination -->
      <div class="swiper-pagination" style="bottom: -5px;"></div>
    </div>

  </section>

  <section class="mt-20">
    <div class="flex items-center justify-center mb-4">
      <a href="#" class="link">
        <h2 class="font-header text-2xl font-semibold">Latest Chapters</h2>
      </a> 
      <a href="#" class="ml-auto link" aria-label="View latest books list">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"class="feather feather-arrow-right text-icon-black dark:text-icon-white text-false icon"><path d="M5 12h14m-7-7 7 7-7 7"></path></svg>
      </a>
    </div>
    <div class="grid grid-flow-col grid-cols-12 gap-8">

      <div class="rounded bg-BGColorLight px-4 py-2 col-span-10 xl:block xl:col-span-3 lg:block lg:col-span-4 md:block md:col-span-6 sm:block sm:col-span-12">

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://pbs.twimg.com/profile_images/882359057142562817/WMiNW4Wq_400x400.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://media.tenor.com/images/f7f2b0e21222547c96f33c956342316a/tenor.png" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

      </div>

      <div class="rounded bg-BGColorLight px-4 py-2 hidden xl:block xl:col-span-3 lg:block lg:col-span-4 md:block md:col-span-6">

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://pbs.twimg.com/profile_images/882359057142562817/WMiNW4Wq_400x400.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://media.tenor.com/images/f7f2b0e21222547c96f33c956342316a/tenor.png" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

      </div>
      <div class="rounded bg-BGColorLight px-4 py-2 hidden xl:block xl:col-span-3 lg:block lg:col-span-4">

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://pbs.twimg.com/profile_images/882359057142562817/WMiNW4Wq_400x400.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://media.tenor.com/images/f7f2b0e21222547c96f33c956342316a/tenor.png" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

      </div>
      <div class="rounded bg-BGColorLight px-4 py-2 hidden xl:block xl:col-span-3">

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://pbs.twimg.com/profile_images/882359057142562817/WMiNW4Wq_400x400.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">1Lorem, ipsum dolor. 1</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://media.tenor.com/images/f7f2b0e21222547c96f33c956342316a/tenor.png" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

        <div class="grid grid-cols-4 py-2">
          <div style="height: 73px;">
            <img src="https://cdn-0.generatormix.com/images/anime-character/katuski-bakugo.jpg" class=" rounded w-full h-full object-cover" alt="" loading="lazy">
          </div>
          <div class="col-span-3 text-left ml-2">
            <h1 class="text-base font-bold truncate">Lorem, ipsum dolor.</h1>
            <p class="text-base"><span><img src="https://mangadex.org/flags/gb.svg" class="rounded h-6 inline" alt="" ></span> Chapter xx</p>
            <p class="text-sm text-gray-400">xx seconds ago...</p>
          </div>
        </div>

      </div>


    </div>
  </section>

  <section class="my-20 ">
    <div class="grid grid-flow-col grid-cols-6 gap-8 ">
      <div class="col-start-1 col-span-full lg:col-start-2 lg:col-span-4 bg-BGColorLight rounded">
        <div class="grid grid-flow-col grid-cols-2 gap-4 p-4">
          <div class="col-span-full lg:col-span-1">
            <img src="{{ url_for('webapp.static', filename='img/newsletter.svg') }}" class="mx-auto pt-4" style="max-width: 380px; width: 100%;" alt="">
          </div>
          <div class="pl-6 flex items-center col-span-full lg:col-span-2" id="newsletter-form">

            <form action="/newsletter/" method="POST" id="newsletter-form" class="w-full text-center">
              <h2 class="font-header text-2xl font-semibold mb-2">Sign Up for Newsletter</h2>
              <p class="text-sm text-gray-400">Subscribe to our monthly newsletter and stay up to date with our latest releases and promotions.</p>
              <input type="email" name="newsletter-email" id="newsletter-email" class="mt-4">
              <button class="rounded relative md-btn flex items-center px-3 my-4 justify-center text-black bg-themeMain hover:themeLight glow px-4 px-6" style="min-height: 48px; min-width: 100%;">
                <span class="flex items-center justify-center font-medium select-none" style="pointer-events: none;">Sign Me Up</span>
              </button>
            </form>

          </div>
        </div>
      </div>
    </div>
  </section>

</div>
{% endblock %}
{% block scripts %}
<script>
  $('#newsletter-form').on('submit', function(e) {
    e.preventDefault();  {# preventing the defult page refreshing #}
    var emailValue = $('#newsletter-email').val();
    $('#newsletter-email').val("");
    if (emailValue !== ""){
        $.ajax({
      type: "POST",
      url: "/newsletter/",
      data: JSON.stringify({ mail: emailValue}),
      contentType: "application/json",
      success: function(response) {
          {#var responseObj = JSON.prase(response);#}
          if (response.exist == false){
              alert(response.user_email+" is successfully subscribed for news letter,\nThank You.");
          }else{
              alert(response.user_email+" is already subscribed for news letter,\nThank You.");
          }
          console.log(response);
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
        alert("Error Occurred");
      }
    });
    }else{
        alert("Enter Valid E-mail");
    }

  });
</script>
<script type="module">
  var swiper = new Swiper('.swiper', {
    slidesPerView: 'auto',
    mousewheel: true,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    autoplay: {
      delay: 2500,
      disableOnInteraction: false,
    },
  });
</script>
{% endblock %}