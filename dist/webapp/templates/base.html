<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
  <link rel="stylesheet" href="{{ url_for('webapp.static', filename='css/style.css') }}">
  <style>
    .swiper {
      margin-left: auto;
      margin-right: auto;
      position: relative;
      overflow: hidden;
      list-style: none;
      padding: 0;
      z-index: 1;
      padding-bottom: 20px;
    }
    .swiper-wrapper {
      position: relative;
      width: 100%;
      height: 100%;
      z-index: 1;
      display: flex;
      transition-property: transform;
      box-sizing: content-box;
    }
    .swiper-slide {
      width: 100%;
      max-width: 380px;
      margin-right: 20px;
      flex-shrink: 0;
      height: 100%;
      position: relative;
      transition-property: transform;
    }
    .swiper-pagination-bullet-active{
      background-color: rgb(70 205 207 / 1);
    }
  </style>
</head>
<body>
  <button class="fixed top-4 -left-48 focus:bg-themeDarkLight py-4 px-6 focus:left-8 z-50 transition rounded" onclick="location.href='/assisted/';">Assisted Mode</button>
  <div class="flex flex-grow bg-BGColorLight">
    <div class="flex flex-col lg:relative fixed bg-accent h-screen md:h-full z-50 text-sm text-white overflow-y-auto side-menu-width hidden" id="side-menu">
      <div class="drawer flex-grow lg:static lg:h-auto fixed left-0 top-0 z-50 h-screen md:h-full">
        <div class="lg:top-0 lg:fixed flex flex-col overflow-y-auto overscroll-contain h-screen bg-BGColorLight side-menu-width">
          <div class="flex items-center p-2 justify-between">
            <div class="flex-none w-40">
              <a href="/" class="cursor-pointer">
                <img src="{{url_for('webapp.static', filename='img/audimax-logo-only.png')}}" height="40" alt="">
              </a>
            </div>
            <div class="flex-none py-2 px-2 cursor-pointer transition rounded-full hover:bg-slate-500/50 hover:drop-shadow-md" id="side-menu-close">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-currentColor icon"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            </div>
          </div>
  
          <div class="px-4 pt-2 flex flex-col flex-shrink-0">
            <a href="/">
              <div class="px-2 py-1 rounded-md font-bold flex bg-themeMain hover:bg-themeDarkLight hover:text-white transition-colors">
                <div class="flex-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home text-currentColor icon"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><path d="M9 22V12h6v10"></path></svg></div> 
                <div class="mx-2 flex-none leading-loose">Home</div>
              </div>
            </a>
          </div>
          <div class="px-4 pt-2 flex flex-col flex-shrink-0">
            <div class="px-2 py-1 rounded-md font-bold flex">
              <div class="flex-none"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-currentColor icon"><path d="m19 21-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div> 
              <div class="mx-2 flex-none">Follows</div>
            </div>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Library</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Lists</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">History</div>
              </div>
            </a>
          </div>
  
          <div class="px-4 pt-2 flex flex-col flex-shrink-0">
            <div class="px-2 py-1 rounded-md font-bold flex">
              <div class="flex-none"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-book-open text-currentColor icon"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2zm20 0h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg></div> 
              <div class="mx-2 flex-none">Titles</div>
            </div>
            <a href="{{url_for('webapp.add_title_page')}}">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Add New Title</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Advanced Search</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Recently Added</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Random</div>
              </div>
            </a>
          </div>
  
          <div class="px-4 pt-2 flex flex-col flex-shrink-0">
            <div class="px-2 py-1 rounded-md font-bold flex">
              <div class="flex-none"><svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="text-currentColor icon"><path d="m3 21 5-5m-4-4 8 8c3-3 1-5 1-5l6-6h2l-6-6v2l-6 6s-2-2-5 1z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div> 
              <div class="mx-2 flex-none">Audimax</div>
            </div>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">About Us</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Rules</div>
              </div>
            </a>
            <a href="/">
              <div class="px-2 py-1 rounded-md hover:bg-BGColor hover:text-white transition-colors">
                <div class="mx-3 flex-none">Announcements</div>
              </div>
            </a>
          </div>
          <div class="flex-grow"></div>
          <div class="mx-6 my-4">
            <hr>
          </div>
          <div class="px-6 pb-4 text-sm pb-6">
            <p>Â© Cloud Guage 2022</p>
          </div>
        </div>
      </div>
    </div>
    <div class="grow min-h-screen max-w-full bg-BGColor text-white">
      <div class="border-b border-b-themeMain bg-BGColor z-20 top-0 sticky">
        <div class="container mx-auto">
          <div class="py-2 px-6 bg-BGColor relative">
            <div class="flex items-center">
              <button class="rounded relative md-btn flex items-center px-3 mr-2 justify-center rounded-full px-0 transition" id="side-menu-open">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-currentColor icon"><path d="M3 12h12M3 6h18M3 18h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
              </button>
              <a href="/" class="flex items-center nuxt-link-exact-active nuxt-link-active"><img alt="Cloud Guage logo" src="{{url_for('webapp.static', filename='img/audimax-logo-long.png')}}" height="40" class="mr-2" style="height:40px;"></a>
              <div class="flex-grow"></div>
  
              <div class="items-center rounded-full cursor-pointer hidden lg:block">
                <form action="" method="GET" class="inputwrap" onclick="toggleModal(this)" data-modal-toggle="search-modal" >
                  <input placeholder="Search" title="Search" name="q" autocomplete="off"> 
                  <div class="search-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-icon-white text-false icon"><path d="M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm10 2-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                  </div>
                </form>
              </div>
  
              <div class="flex flex-shrink-0 justify-end items-center" style="flex-basis: 0px;">
                <button class="rounded relative md-btn flex items-center px-3 ml-auto justify-center px-0 lg:hidden" aria-label="Search" style="min-height: 40px; min-width: 40px;">
                  <div class="bg opacity-0 hover:opacity-30 active:opacity-10"></div> 
                  <span class="flex items-center justify-center font-medium select-none" style="pointer-events: none;"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-currentColor icon"><path d="M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm10 2-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>
                </button>
                {% if context.user_initial is defined %}
                <div class="ml-4 cursor-pointer rounded-full overflow-hidden bg-accent flex items-center justify-center" style="min-width: 40px; min-height: 40px;">
                  <img src="https://via.placeholder.com/150/46CDCF/000000?text={{context.user_initial}}" onclick="toggleModal(this)" data-modal-toggle="profile-modal" alt="Avatar" width="150" height="150" id="avatar" style="width: 40px; height: 40px;">
                </div>
                {% else %}
                <div class="flex-grow ml-4">
                  <a href="{{ url_for('webapp.login_page') }}" class="rounded relative md-btn flex items-center px-3 justify-center text-white bg-themeMain hover:bg-themeDarkLight active:bg-themeDarkLight glow px-4 px-6" style="min-height: 48px; min-width: 100%;">
                    <span class="flex items-center justify-center font-medium select-none whitespace-nowrap" style="pointer-events: none;">
                      Log In
                    </span>
                  </a>
                </div>
                {% endif %}
                
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        {% block content %}
        {% endblock %}
      </div>
    </div>
  </div>
  <footer class="bg-BGColorLight text-center py-4 text-white">
    Â© Audimax 2022
  </footer>
  <!-- Profile modal section -->
  <div id="profile-modal" class="fixed top-0 left-0 z-30 bg-slate-900/50 w-full h-full backdrop-blur-sm hidden">
    <div class="relative p-4 pt-10 w-full max-w-2xl h-full md:h-auto mx-auto">
      <div class="relative bg-BGColor rounded-lg box-shadow">
        <div class="flex justify-between items-start p-4 rounded-t border-b border-gray-600">
          <h3 class="text-xl font-semibold text-white">
            {% if context.user_name is defined %}
              Haiya, {{context.user_name}}
            {% endif %}
          </h3>
          <button type="button" onclick="toggleModal(this)" data-modal-toggle="profile-modal" class="ml-auto -mx-1.5 -my-1.5 bg-BGColorDarkLight text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8" aria-label="Close">
            <span class="sr-only">Close</span>
            <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          </button>
        </div>
        <div class="profile-avatar mt-6">
          <img src="https://via.placeholder.com/150/46CDCF/000000?text={{context.user_initial}}" class="mx-auto rounded-full w-1/6 h-1/6" alt="Avatar" id="avatar">
        </div>
        <div class="grid sm:grid-cols-2 grid-col-1 gap-4 p-6">
          <a href="/user/me" class="p-2 flex items-center font-medium rounded text-white bg-BGColorDarkLight hover:bg-BGColorLight duration-100 ease-out">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2 text-icon-white text-false icon"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2m8-10a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg> 
            <span>My Profile</span>
          </a>
          <a href="/user/me" class="p-2 flex items-center font-medium rounded text-white bg-BGColorDarkLight hover:bg-BGColorLight duration-100 ease-out">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-icon-white text-false icon"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m14-7-5-5-5 5m5-5v12"></path></svg>
            <span>My Uploads</span>
          </a>
          <a href="/user/me" class="p-2 flex items-center font-medium rounded text-white bg-BGColorDarkLight hover:bg-BGColorLight duration-100 ease-out">
            <svg style="width:24px;height:24px" viewBox="0 0 24 24" class="mr-2 text-icon-white text-false icon"><path fill="currentColor" d="M20 2V4L4 8V6H2V18H4V16L6 16.5V18.5C6 20.4 7.6 22 9.5 22S13 20.4 13 18.5V18.3L20 20V22H22V2H20M11 18.5C11 19.3 10.3 20 9.5 20S8 19.3 8 18.5V17L11 17.8V18.5M20 18L4 14V10L20 6V18Z"></path></svg>
            <span>My Reports</span>
          </a>
        </div>
        <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-600">
            <a href="/logout/" class="text-white focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 bg-themeMain hover:bg-themeMainLight focus:outline-none focus:ring-teal-800">Log Out</a>
            <button onclick="toggleModal(this)" data-modal-toggle="profile-modal" type="button" class="focus:ring-4 focus:outline-none rounded-lg border text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 bg-gray-700 text-gray-300 border-gray-500 hover:text-white hover:bg-gray-600 focus:ring-gray-600">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Profile modal section END -->
  <!-- Search modal section -->
  <div id="search-modal" class="fixed top-0 left-0 z-30 bg-slate-900/50 w-full h-full backdrop-blur-sm hidden">
    <div class="relative p-4 pt-10 w-full max-w-2xl h-full md:h-auto mx-auto">
      <div class="relative bg-BGColor rounded-lg box-shadow">
        <div class="flex justify-between items-start p-4 rounded-t">
          <div class="items-center rounded-full cursor-pointer text-white mr-2">
            <form action="/titles/" method="GET" class="inputwrap">
              <input placeholder="Search" title="Search" name="q" class="" autofocus id="main_search_field"> 
              <div class="search-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-icon-white text-false icon"><path d="M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm10 2-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
              </div>
            </form>
          </div>
          <button type="button" onclick="toggleModal(this)" data-modal-toggle="search-modal" class="ml-auto mx-0 my-0 bg-BGColorDarkLight text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8" aria-label="Close">
            <span class="sr-only">Close</span>
            <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          </button>
        </div>
        <div class="p-6" id="title-search-result">
          <div class="text-center"><p class="text-slate-600">Oh! Such empty. Please type something in the search bar to start.</p></div>
        </div>
      </div>
    </div>
  </div>
  <!-- Search modal section END -->
  <!-- Toast section -->
  <div class="fixed bottom-4 right-4 z-30">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
      <div class="toast-message flex items-center p-4 mb-4 w-full max-w-xs text-gray-500 bg-BGColorLight rounded-lg drop-shadow" role="alert">
        {% if category == 'success' %}
        <div class="inline-flex flex-shrink-0 justify-center items-center w-8 h-8 text-green-200 bg-green-600 rounded-lg">
          <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
          <span class="sr-only">Check icon</span>
        </div>
        {% elif category == 'error' %}
        <div class="inline-flex flex-shrink-0 justify-center items-center w-8 h-8 text-red-200 bg-red-600 rounded-lg">
          <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
          <span class="sr-only">Error icon</span>
        </div>
        {% endif %}
        <div class="ml-3 text-sm font-normal pr-4">{{ message }}</div>
        <button type="button" onclick="dismissToast(this)" class="ml-auto -mx-1.5 -my-1.5 bg-BGColorDarkLight text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8" aria-label="Close">
          <span class="sr-only">Close</span>
          <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
        </button>
      </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

  </div>
  <!-- Toast section End -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script>
    //onclick modal close function
    function toggleModal(btn){
      let modalName = $(btn).data('modalToggle');
      /* if(modalName == 'search-modal'){
        $("#main_search_field").trigger('focus');
        console.log("csc");
      } */
      $('#'+modalName).fadeToggle('fast');
    }
    //realtime search function
    $('#main_search_field').keyup(function() {
      var field_text = this.value;
      if(field_text.length >= 3){
        var book_container = $('#title-search-result');
        book_container.empty();
        book_container.append(`<div class="text-center"><div role="status"><svg class="inline mr-2 w-10 h-10 text-gray-200 animate-spin dark:text-gray-600 fill-themeMain" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/></svg><span class="sr-only">Loading...</span></div></div>`);
        $.ajax({
          type: "POST",
          url: "/search/titles/",
          data: JSON.stringify({ data: field_text}),
          contentType: "application/json",
          success: function(response) {
            book_container.empty();
            $.each(response.value, function( index, value ) {
              book_container.append('<a href="/book/'+value.id+'" class="p-2 mb-2 flex items-center font-medium rounded text-white bg-BGColorDarkLight hover:bg-BGColorLight duration-100 ease-out"><div style="width:50px; height:70px;" class="overflow-hidden rounded flex-none mr-4"><img src="/webapp/static/uploads/'+value.cover_img+'" alt=""></div><span>'+value.title+'</span></a>');
            });
            if (response.value === undefined || response.value.length == 0) {
              book_container.empty();
              book_container.append(`<div class="text-center"><p class="text-slate-600">There's no result for "`+field_text+`". Please try something else.</p></div>`);
            }
          }, 
          error: function(XMLHttpRequest, textStatus, errorThrown) {
            book_container.empty();
            book_container.append(`<div class="text-center"><p class="text-slate-600">Encountered a server error. Please try again later.</p></div>`);
          }
        });
      }
    });
    //toast timeout function
    $(function() {
      let allToasts = $(".toast-message");
      setTimeout(function(){
        allToasts.fadeOut("slow");;
      }, 3000);
    });
    //toast onclick close function
    function dismissToast(elem) {
      $(elem).parent().fadeToggle("fast")
    }
    //sidemenu open close funstions
    $("#side-menu-close").click(function(){
      $('#side-menu').toggle('hidden');
      $('#side-menu-open').toggle('hidden');
    });
    $("#side-menu-open").click(function(){
      $('#side-menu').toggle('hidden');
      $('#side-menu-open').toggle('hidden');
    });
  </script>
  {% block scripts %}
  {% endblock %}
</body>

</html>
